#include "main.h"

//Timer Functions
static u32 delay = 0;

//==============================================================================
// Таймер срабатывает каждую 1мкс
//==============================================================================
void SysTick_Handler(void)
{
	if(delay){delay--;}
}

//==============================================================================
// Процедура программной задержки 1 мкс
//==============================================================================
void delay_us(u32 ms)
{
	delay = ms;
	while(delay){}
}
//==============================================================================

//==============================================================================
// Процедура программной задержки 1 мс
//==============================================================================
void delay_ms(u32 ms)
{
	delay = ms * 100;
	while(delay){}
}
//==============================================================================

//==============================================================================
// Процедура для инициализации системного таймера
//==============================================================================
void delay_init(void){
	//configure SysTimer to 1 us
	while(SysTick_Config(SystemCoreClock / 240000));
}
//==============================================================================
